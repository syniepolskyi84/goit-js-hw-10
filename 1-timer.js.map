{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst inputData = document.querySelector(\"#datetime-picker\");\nconst startButton = document.querySelector(\"[data-start]\");\nconst daysEl = document.querySelector(\"[data-days]\");\nconst hoursEl = document.querySelector(\"[data-hours]\");\nconst minutesEl = document.querySelector(\"[data-minutes]\");\nconst secondsEl = document.querySelector(\"[data-seconds]\");\n\nstartButton.disabled = true;\n\nlet userSelectedDate;\n\nstartButton.addEventListener(\"click\", timerStart);\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if(selectedDates[0] > Date.now()) {\n      userSelectedDate = selectedDates[0]\n      startButton.disabled = false;\n      updateCountdown();\n    } else {\n      startButton.disabled = true;\n      iziToast.show({\n        position: 'topRight',\n        color: 'red', \n        message: \"Please choose a date in the future\",\n      });\n    }  \n  },\n};\n\nflatpickr(inputData, options);\n\nlet countdownInterval;\n\nfunction timerStart() {\n  countdownInterval = setInterval(updateCountdown, 1000);\n  startButton.disabled = true;\n  inputData.disabled = true;\n};\n\nfunction timerStop() {\n  clearInterval(countdownInterval);\n  \n  daysEl.textContent = \"00\";\n  hoursEl.textContent = \"00\";\n  minutesEl.textContent = \"00\";\n  secondsEl.textContent = \"00\";\n  inputData.disabled = false;\n}\n\nfunction updateCountdown() {\n  const differenceDate = userSelectedDate - Date.now();\n  const { days, hours, minutes, seconds } = convertMs(differenceDate);\n    daysEl.textContent = addLeadingZero(days);\n    hoursEl.textContent = addLeadingZero(hours);\n    minutesEl.textContent = addLeadingZero(minutes);\n    secondsEl.textContent = addLeadingZero(seconds);\n  if (differenceDate <= 0) {\n    timerStop();\n  } \n}\n\nfunction addLeadingZero(value) {\n  return value.toString().padStart(2, '0');\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n// console.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\n// console.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\n// console.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}"],"names":["inputData","startButton","daysEl","hoursEl","minutesEl","secondsEl","userSelectedDate","timerStart","options","selectedDates","updateCountdown","iziToast","flatpickr","countdownInterval","timerStop","differenceDate","days","hours","minutes","seconds","convertMs","addLeadingZero","value","ms"],"mappings":"2FAKA,MAAMA,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAY,SAAS,cAAc,gBAAgB,EAEzDJ,EAAY,SAAW,GAEvB,IAAIK,EAEJL,EAAY,iBAAiB,QAASM,CAAU,EAEhD,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CAClBA,EAAc,CAAC,EAAI,KAAK,IAAG,GAC5BH,EAAmBG,EAAc,CAAC,EAClCR,EAAY,SAAW,GACvBS,MAEAT,EAAY,SAAW,GACvBU,EAAS,KAAK,CACZ,SAAU,WACV,MAAO,MACP,QAAS,oCACjB,CAAO,EAEJ,CACH,EAEAC,EAAUZ,EAAWQ,CAAO,EAE5B,IAAIK,EAEJ,SAASN,GAAa,CACpBM,EAAoB,YAAYH,EAAiB,GAAI,EACrDT,EAAY,SAAW,GACvBD,EAAU,SAAW,EACvB,CAEA,SAASc,GAAY,CACnB,cAAcD,CAAiB,EAE/BX,EAAO,YAAc,KACrBC,EAAQ,YAAc,KACtBC,EAAU,YAAc,KACxBC,EAAU,YAAc,KACxBL,EAAU,SAAW,EACvB,CAEA,SAASU,GAAkB,CACzB,MAAMK,EAAiBT,EAAmB,KAAK,IAAG,EAC5C,CAAE,KAAAU,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAc,EAChEb,EAAO,YAAcmB,EAAeL,CAAI,EACxCb,EAAQ,YAAckB,EAAeJ,CAAK,EAC1Cb,EAAU,YAAciB,EAAeH,CAAO,EAC9Cb,EAAU,YAAcgB,EAAeF,CAAO,EAC5CJ,GAAkB,GACpBD,GAEJ,CAEA,SAASO,EAAeC,EAAO,CAC7B,OAAOA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,CACzC,CAEA,SAASF,EAAUG,EAAI,CAQrB,MAAMP,EAAO,KAAK,MAAMO,EAAK,KAAG,EAE1BN,EAAQ,KAAK,MAAOM,EAAK,MAAO,IAAI,EAEpCL,EAAU,KAAK,MAAQK,EAAK,MAAO,KAAQ,GAAM,EAEjDJ,EAAU,KAAK,MAASI,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAP,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}